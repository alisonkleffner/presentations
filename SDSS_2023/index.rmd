---
title: "Redesigning Yield Map Plots for Comprehension and Usability"
subtitle: "SDSS, 2023"
author: "Alison Kleffner"
date: "Department of Statistics, University of Nebraska - Lincoln"
output:
  xaringan::moon_reader:
    seal: false
    includes:
      after_body:
        "js-addins.html"
    #mathjax: "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_HTMLorMML"
    css: ["default", "metropolis-fonts", "metropolis" ,"css/modal.css", "css/sizeformat.css"]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightlines: true
      countIncrementalSlides: true
---
class:title-slide-custom

```{r, child = "style.Rmd"}
```


```{r setup, echo = FALSE, message = FALSE, warning = FALSE}
# Packages
library(emoji)
library(purrr)
library(tidyverse)
library(gridExtra)
library(nullabor)
library(scales)
library(knitr)
library(kableExtra)
library(RefManageR)
library(iconr)
library(fontawesome)
library(RColorBrewer)
library(ggpubr)
# download_fontawesome()

# References
bib <- ReadBib("bib/thesis.bib", check = FALSE)
ui <- "- "

# R markdown options
knitr::opts_chunk$set(echo = FALSE, 
                      message = FALSE, 
                      warning = FALSE, 
                      cache = TRUE,
                      dpi = 300)
options(htmltools.dir.version = FALSE)
options(knitr.kable.NA = '')
```

```{r, include = F, eval = T, cache = T}
clean_file_name <- function(x) {
  basename(x) %>% str_remove("\\..*?$") %>% str_remove_all("[^[A-z0-9_]]")
}
img_modal <- function(src, alt = "", id = clean_file_name(src), other = "") {
  
  other_arg <- paste0("'", as.character(other), "'") %>%
    paste(names(other), ., sep = "=") %>%
    paste(collapse = " ")
  
  js <- glue::glue("<script>
        /* Get the modal*/
          var modal{id} = document.getElementById('modal{id}');
        /* Get the image and insert it inside the modal - use its 'alt' text as a caption*/
          var img{id} = document.getElementById('img{id}');
          var modalImg{id} = document.getElementById('imgmodal{id}');
          var captionText{id} = document.getElementById('caption{id}');
          img{id}.onclick = function(){{
            modal{id}.style.display = 'block';
            modalImg{id}.src = this.src;
            captionText{id}.innerHTML = this.alt;
          }}
          /* When the user clicks on the modalImg, close it*/
          modalImg{id}.onclick = function() {{
            modal{id}.style.display = 'none';
          }}
</script>")
  
  html <- glue::glue(
     " <!-- Trigger the Modal -->
<img id='img{id}' src='{src}' alt='{alt}' {other_arg}>
<!-- The Modal -->
<div id='modal{id}' class='modal'>
  <!-- Modal Content (The Image) -->
  <img class='modal-content' id='imgmodal{id}'>
  <!-- Modal Caption (Image Text) -->
  <div id='caption{id}' class='modal-caption'></div>
</div>
"
  )
  write(js, file = "js-addins.html", append = T)
  return(html)
}
# Clean the file out at the start of the compilation
write("", file = "js-addins.html")
```

<br><br><br>
## Redesigning Yield Map Plots for Comprehension and Usability
### 2023 SDSS
#### Alison Kleffner
#### Department of Statistics, University of Nebraska - Lincoln
##### `r fa("envelope", fill = "black")` [akleffner@huskers.unl.edu](akleffner@huskers.unl.edu)
##### `r fa("home", fill = "black")` [https://alison-kleffner.netlify.app/](https://alison-kleffner.netlify.app/)
##### `r fa("github", fill = "black")` [alisonkleffner](https://github.com/alisonkleffner)
<br><br>
.medium[*Slides: https://alisonkleffner.github.io/presentations/SDSS_2023/index.html#1*]

---
class:primary
# Outline

.pull-left[


`r fa_i("envira")` Data Intensive Farm Management

`r fa_i("map")` Perceptual Issues with Current Maps

`r fa_i("bar-chart")` Redesign Process

`r fa_i("spinner")` Future Work

]


---
class:inverse
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
.center[
# Data Intensive Farm Management 
]

---
class:primary
#Background

+ With a projected increase in future crop demand, researchers are conducting studies on crop input application to increase yield, focusing on sustainability `r Citep(bib[[c("tilman_sustainalbe_2011")]])` 
+ Crop Input Example: Nitrogen Fertilizer
  - Nitrogen is an essential component of food production as it is a component of amino acids, the building blocks of proteins, and allows plants to photosynthesize efficiently `r Citep(bib[[c("MAHESWARI2017175")]])`  
  - Unfortunately, nearly half of the nitrogen fertilizer supplied to the field is not used by the crops, resulting in excess nitrogen in the ecosystem `r Citep(bib[[c("billen_nitrogen_2013")]])` 
  - This excess nitrogen can be harmful
+ Hence, research needs to be conducted on determining input rates that increase crop yield, and are also more sustainable.

.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/tractor.png", alt = "Tractor",other=list(width="30%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```

]


---
class:primary
# Data Intensive Farm Management (DIFM)

**Problem**: Address inefficient application of crop inputs to farm fields worldwide

**Methods**: On-Farm Precision Experimentation
- Conduct experiments using site-specific inputs 
- GPS-reliant technology 

**Goals**
- Develop infrastructure to develop and analyze these experiments
- Find economically optimal application rate to increase profit while reducing environmental impacts. 

[Project Website](http://difm-cig.org/)

.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/logo.png", alt = "Data Intensive Farma Management (DIFM) Project",other=list(width="30%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```

]

???

A common issue with farming practices across the world is the inefficient application of crop inputs, like nitrogen, on farm fields. This inefficient application of crop input impacts profit and the environment. For example nitrogen fertilizer input that is not used by crops can pollute water bodies by causing the overstimulation of growth of aquatic plants and algae, impacting light. Thus, research needs to be conducted to study this issue so steps can be taken to address it. The purpose of the data intensive farm management project, a grant funded by the USDA-NRCS, is to generate the data necessary to understand this effect of crop input application on yield, so a more optimal level can be chosen. The data is generated through the use of On-Farm precision experimentation (OFPE). In an OFPE experiments are conducted on a field using field specific inputs where the experiment is implemented using a tractor that has GPS-reliant technology. DIFM wants to develop infrastructure (including the development of apps) to easily develop and analyze these experiments, with the end goal of finding economically optimal application rate to increase profits while reducing environmental impacts.  

---
class:primary
# Trial Design

**Step 1**: Develop infrastructure to develop experiments using site-specific inputs

[Trial Design Tool](http://trialdesign.difm-cig.org/)

.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/welcome-page.png", alt = "Homepage of Trial Design Tool", other=list(width="45%"))
i2 <- img_modal(src = "images/Trial_Design.png", alt = "Example of A Trial Design", other=list(width="45%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i2, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9],
  str_split(i2, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```
]


**Output**: shape files that can be put into a farmer's tractor that allows them to carry out the experiments


???

First step is to develop the infrastructure to develop the experiments using site specific inputs. This was a project that I worked on last spring, where I developed a R Shiny app that is used as a prototype. In this tool, farmers are able to create site-specific experiments, using their field boundaries, desired plot lengths, and desired treatment variations they wanted to test. After the trial is designed, they can download shape files that they can put into their tractor to implement the study. Note: I did not write the background code for the trial design, my work was more on the design and usability. I helped enough with the background code to get everything to work. 

---
class:primary
# Data Collection

**Step 2**: Conduct experiments and collect data

.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/data_collection.png", alt = "How Data is collected",other=list(width="45%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```
]

Examples of Data Collected:
- As-applied
- Yield
- Location of measurements

???

This picture is an example of how the data we are using is collected. The blue/white dots in the middle are the treatment and the location at which the treatment is applied to the field. They yellow dots are locations where a crop is harvested and a yield measurement is taken. This process utilizes GPS and other equipment on tractors to collect the information. Examples, of some of the data that is collected that we utilize is the location of measurements and treatment, yield measure, and as-applied (amount of treatment that is actually applied to the field. Goal is the trial design, but sometimes a lag between different trial plots)


---
class:primary
# Explain the Results

**Step 3**: Explain the optimal management decisions, accounting for various factors

--

**How**: create a user interface, designed around explaining machine learning output to non-experts
  - Build trust in models
  - Learn how crop yield responds to different input application rates, field characteristics, and weather to hopefully increase profits. 
  
--
  
**One way to do this**: Visually explore the relationship between input application and yield through a graph
  - Show the spatial correlations between the application/treatment and yield in a way that is understandable to farmers and consultants. 
  - Develop perceptually optimal plots that communication this relationship. 
  
???

The last general step in this process is to analyze the data and explain the optimal decision management decisions, accounting for various factors (like weather, environmental and economics conditions). So we want to develop an user interface that is designed around explaining the machine learning output to non-experts to help inform decision. We want to do this to build farmer's trust in the models (we are providing them with useful information). Additionally, as a whole this will help us learn how crop yield responds to different input application rates, field characteristics, and weather with the goal to help increase profits. Currently we are working on the pieces to help explain these results, before putting it all together in an R Shiny app. One of these pieces of information that needs to be explained is to explore the relationship between input application and yield. As seen in previous parts of this presentation, there is a great benefit of plotting data, so we wanted to explore this relationship visually. Hence, we want to show the spatial correlations between the treatment application and yield in a way that is understandable to farmers and consultants. Additionally, we need to develop these plots so they are perceptually optimal.  

---
class:inverse
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
.center[
# Current Maps 
]

---
class:primary
#Yield Maps Currently Used by DIFM

.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/old_map.png", alt = "Example 1", other=list(width="30%"))
i2 <- img_modal(src = "images/juxtaposed-ex.jpeg", alt = "Example 2", other=list(width="50%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i2, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9],
  str_split(i2, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```


An Example of two versions of this plot currently given to farmers/crop consultants in DIFM reports

]



???

Currently, here is two examples of the plots that are currently given in DIFM reports to farmers. 

Ask the audience what principles of good graphics these violate?

---
class:primary
# Other Maps in  the Literature

.center[
Plenty of other iterations of trial design/yield maps used in the literature. Here's some examples
]

--

.pull-left[
.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/maxwell.png", alt = "Maxwell et al (2018)", other=list(width="70%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```


```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/peerlinck.png", alt = "Peerlinck et al (2018)", other=list(width="70%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```

]


].pull-right[

.center[

```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}

i1 <- img_modal(src = "images/yield-plot2.png", alt = "Searcy (1997)", other=list(width="70%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```


```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}

i1 <- img_modal(src = "images/trevisan.png", alt = "Trevisan et al (2021)", other=list(width="60%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```



]

]

???

Plenty of other yield maps that have been used in the literature, so while don't give trial plot information still provides yield information over space. These have some of the same problems as seen before. The first interpolates, so losing the site-specific information and continuous yield may not make sense. The second, has too many categories and coloring is not great (rainbow). The last plot uses suboptimal color scheme (bivariate color scheme in inappropriate, also doesn't go through white, members of the target audience (farmers) may be more likely to be colorblind, so avoid reds and greens)

---
class:primary
#Juxtaposed vs Superimposed Graphs

.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/jux-vs-sup.png", alt = "Juxtaposed vs Superimposed Comparative Graphs (Gleicher, Albers, Walker, et al., 2011)",other=list(width="50%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```
]

+ **Juxtaposed graphs**: side by side `r Citep(bib[[c("gleicher2011")]])`
  - Benefits: less issues with visual clutter and easier to create
  - Drawbacks: comparative burden is placed on the user
  
--

+ **Superimposed graphs**: multiple objects in same coordinate system `r Citep(bib[[c("gleicher2011")]])`
  - Benefits: Easier to compare as users can use perception rather than memory
  - Drawbacks: clutter
  - Useful when spatial location is a key component of the comparison `r Citep(bib[[c("Wang2018TowardsEC")]])`
  


---
class:primary
#Data Clutter with Superimposed Graphs

**Drawback**: clutter
+ General principle of graphical design: show data clearly `r Citep(bib[[c("cleveland_1984", "gordon_2015")]])`
+ Overlap - multiple dots on top of one another
  - Obscures true number of dots, harder to find patterns
  - Visual cues, like color, becomes partially obstructed, thereby reducing search efficiency `r Citep(bib[[c("BRAVO2004b", "BRAVO2004a")]])`
  - Can overburden human perception, causing errors in performing tasks `r Citep(bib[[c("huang2009")]])`
  
.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/old_map.png", alt = "Example 1", other=list(width="20%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```
]

???

One of the first things we need to decided is whether we want to juxtapose or superimpose the trial design and yield information. Juxtaposed graphs are side by side plots that tend to have less issues with visual clutter and they are easier to create. A drawback however, is that the comparative burden is placed on the user (have to match things up correctly). The other option is to superimpose the graphs where multiple objects are in the same coordinate system. The benefit is that it is easier to compare as users can use perception rather than memory. These are additionally useful when spatial location is a key component of the comparison. However, the major drawback, as we saw with the DIFM plot is that clutter is a major issue. We decided to use superimposed graphs since spatial location is a key component for us and may be hard to compare in two different plot (hard to match up)

---
class:primary
#Comparative Burden with Superimposed Graphs

**Drawback**: Most of the comparative burden placed on users' memory
+ A mental image is relied on for comparison in these scenarios, as the user moves their
eyes between images (shifting focus). 
  - The plot contents may not be accurately formed in working memory, leading to potential errors when deriving patterns  `r Citep(bib[[c("vanderplas2020", "lyi2021")]])`
+ Lack of visual cues for locations


.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/juxtaposed-ex.jpeg", alt = "Juxtaposed Example", other=list(width="35%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```

]

---
class:primary
#Color

+ Red-green color blindness is experienced by approximately 8% of men and 0.5% of women of
Northern European ancestry. 
  - Difficult to discriminate between these colors `r Citep(bib[[c("wong2011color")]])` 
  
--

+ Stop-Light Color Scheme
  - Yellow has a highlighting effect
  - Univariate Scale more appropriate (magnitude only)
  
--

+ Same Color scheme for multiple variables
  - May cause confusion
  
--

+ Rainbow Color Scheme 
  - No inherent ordering of magnitude `r Citep(bib[[c("light-rainbow-2004")]])` 
  - Extremes are visually close (red and violet) `r Citep(bib[[c("SILVA2011320")]])` 

---
class:primary
#Number of Categories

Number of categorical scales should be limited to **5-7 categories** `r Citep(bib[[c("Miller1956TheMN")]])`
.pull-left[
- Due to working memory limits `r Citep(bib[[c("macdonald_1999")]])`
  + Harder for the user to distinguish between colors and remember the meaning of colors. 
  + More difficult to associate a color with the correct yield category 
- The load on the user’s working memory leads to an increase in the time it takes for the user to comprehend the plot `r Citep(bib[[c("huang2009")]])`
].pull-right[  
  
.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/categories.png", alt = "Example 1", other=list(width="50%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```
]  

]

**Next:** Redesign Process

???

Additionally, the number of categories on our scale for yield should be limited to 5-7 categories (DIFM plot and other plot 2 violates this). The categories need to be limited due to working memory limits and it makes it harder for the user to distinguish between colors and remember the meaning of what group the color is representing (might associate a color with the incorrect category). This load on the user's working memory lead to an increase in time for them to comprehend the plot, which is not something we want especially for non-experts. 

Next I am going to walk through our redesign process (still currently in progress).


---
class:inverse
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
.center[
# Redesign
]

---
class:primary
#Redesign: Color Blending Part 1

.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/Attempt1_2.png", alt = "First Iteration", other=list(width="35%"))
i2 <- img_modal(src = "images/Attemp1_3.png", alt = "First Iteration without Trial Design Plot", other=list(width="35%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i2, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9],
  str_split(i2, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```
]

**Focus**: Superimpose the treatment and yield plots, while reducing the clutter 
+ Use of transparency to show both at same time
+ Interactive plot with *leaflet* `r Citep(bib[[c("leaflet")]])`
  - Can add and remove trial plot layer

--

Work that still needs to be done:
+ Color needs some work
  + different color schemes


???

My first iteration of the plot I was working on superimposing both the treatment and yield plot, but reducing some of the clutter. The yield points were transformed into polygons using the distance between points, swath width, and heading (green space around plot). This was done so each polygon is on it's own unique space and not overlapping. Used transparency for the trial plot to try and blend the colors with the trial design plot. Here is used an interactive plot using the leaflet package in R, which creates interactive web maps with JavaScript. This can be beneficial as can add/remove the trial plot so can only see the yield results if desirable.

So the plot now is not cluttered in the sense there's overlapping data points, but there's still work that needs to be done. For example, the coloring needs more work. Due to colorblind, red and green may not be good colors to use, they are just the default for those working on this project. Additionally, color blending still needs to be worked on to help differentiate high treatment/high yield, etc. Finally, the shading piece may not be as effective for paper plots, which some farmers may want to use. So eventually need to think how to do this with no color.  

---
class:primary
#Redesign: Color Blending Part 2

**Focus**: Color/Scales

.pull-left[
.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/attempt2_new2.jpeg", alt = "Second Iteration", other=list(width="120%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```
]
].pull-right[

+ Working on blending using transparency
+ Categorical Groups for both variables
  - Trial Design treatment is a factor
  - Reduce number of colors for yield
  - Use quantiles to determine categories for yield `r Citep(bib[[c("brewer_2002")]])`
]

???
Played with the transparency a bit more. Eventually would like to use the ggblend package, which is developing for the blending of objects. However, it doesn't work for polygon on top of polygon. Submit a bug report. Additionally, we introduced categorical groups for both variables. Trial Design was categorical to begin width. And I decided to use a categorical scale for yield to cut down on what needed to be blended. The breaks for yield were created using quantiles for the breaks. This has been shown in some research to be the best perceptually for categorical breaks.  

---
class:primary
#Redesign: Bivariate Color Plot

**Alternative to color blending**

.center[

.pull-left[

```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/color-map4.png", alt = "Bivariate Color Map", other=list(width="100%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```
]].pull-right[

+ **Benefit**: relationship between the variables is most important `r Citep(bib[[c("elmer2013symbol")]])` 
+ 3x3 scale as more categories hinder interpretation `r Citep(bib[[c("Leonowicz2003RESEARCHOT")]])`  
  - + Quantiles to split the data `r Citep(bib[[c("biesecker-2020")]])`   
+ **Focus**: diagonal
  - Diagonal: grayscale color scheme. 
  - Upper left and lower right: complementary color scheme `r Citep(bib[[c("strode-2020")]])`
+ **Drawback**: Lose more detailed information, due to quantile creation


]



---
class:primary
#Redesign: Correlation

.center[

Directly encode correlations between As Applied treatments and Yield

]

.pull-left[
**Benefit**: Direct statement of correlation while maintaining some spatial orientation 
  - Explicit Encoding comparative Layout `r Citep(bib[[c("gleicher2011")]])`
+ Bivariate color scale to show difference between positive and negative correlation values
+ Maintain some spatial information. 
  - Correlations may be impacted by field location
**Drawback**: complicated to connect the displayed relationship back to the data `r Citep(bib[[c("gleicher2011")]])`
 - Lose context

].pull-right[

```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/corr-plot2.png", alt = "Correlation", other=list(width="150%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```
]


???

Finally we can directly state the correlation between As Applied and Yield (explain how as applied differs from treatment design), while also keeping some of the spatial relationship. Can see for the most part, as application amount increase, so does the yield. Some areas where the inverse is true (more investigation, maybe lower, dirt differs, etc). Used a bivariate color scheme go through white color for zero. Maintaining some spatial information is importanct as correlation is impacted by field location. Eventually this information can be added to the plot (interactivity)

---
class:primary
# Redesign: Correlation with Scatterplot

**Add some context back**

.center[
```{r results='asis', echo = F, include = T, cache = T, eval = TRUE}
i1 <- img_modal(src = "images/corr-with-scat2.png", alt = "Hybrid Layout", other=list(width="40%"))
i2 <- img_modal(src = "images/corr-with-scat3.png", alt = "Hybrid Layout with Hover", other=list(width="40%"))

c(str_split(i1, "\\n", simplify = T)[1:2],
  str_split(i2, "\\n", simplify = T)[1:2],
  str_split(i1, "\\n", simplify = T)[3:9],
  str_split(i2, "\\n", simplify = T)[3:9]
  ) %>% paste(collapse = "\n") %>% cat()
```
]

+ A standard practice to overcome weakness of decontextualization is utilizing a hybrid comparative layout
(LYi et al., 2021). 
  - Juxtaposed scatterplot to the correlation plot
(combining the layouts of juxtaposition and explicit encoding). 
+ Interactivity connects the juxtaposed plots, where hovering over a trial plot in the correlation map highlights the corresponding points in the scatterplot used in the correlation calculation.

[Link](https://alisonkleffner.github.io/yield-map-redesign/interactive-example.html)

---
class:inverse
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
.center[
# Future Work
]

---
class:primary
#Conclusion/Future Work

We can use the  knowledge about perception to improve visualizations of geospatial experiment results.

**Next Step**: Obtain Feedback from those using the plots (farmers, crop consultants)
- Eventually do some testing between the layouts to see which farmers are reading more accurately.


**Eventually**: Develop a R Shiny app to explaining machine learning output to non-experts
- Build trust in the model predictions without requiring farmers to learn the details of statistical modeling.
- Will utilize these plots, among others
  + For example, accuracy of as applied treatment compared to trial design





???

Mention wanting to develop an R package to create these plots to automate some of these things for future use.

---
class:primary
# References
<font size="1">
```{r, print_refs1, results='asis', echo=FALSE, warning=FALSE, message=FALSE}
print(bib[[c("biesecker-2020", "billen_nitrogen_2013", "BRAVO2004b", "BRAVO2004a", "brewer_2002", "leaflet","cleveland_mcgill_1984", "elmer2013symbol", "gleicher2011", "gordon_2015", "huang2009", "Leonowicz2003RESEARCHOT", "light-rainbow-2004", "lyi2021", "macdonald_1999", "MAHESWARI2017175", "maxwell-farm-2018")]], 
      .opts = list(check.entries = FALSE, style = "html", bib.style = "authoryear")
      )
```
</font>

---
class:primary
# References
<font size="2">
```{r, print_refs2, results='asis', echo=FALSE, warning=FALSE, message=FALSE}
print(bib[[c("Miller1956TheMN", "Peerlinck2018UsingDL", "searcy1997precision", "SILVA2011320", "strode-2020", "tilman_sustainalbe_2011", "trevisan-spatial-2021", "vanderplas2020", "Wang2018TowardsEC", "wong2011color")]], 
      .opts = list(check.entries = FALSE, style = "html", bib.style = "authoryear")
      )
```
</font>


---
class:inverse
<br>
<br>
<br>
.center[
# Questions?
<br>
<br>
`r fa("envelope", fill = "white")` **akleffner@huskers.unl.edu**
`r fa("github", fill = "white")` **alisonkleffner**
]



